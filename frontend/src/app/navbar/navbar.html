<mat-toolbar color="primary" class="navbar">
  <!-- Logo -->
  <span class="logo" *ngIf="!showSearch">
    <mat-icon>menu_book</mat-icon>
    <span class="brand" routerLink="/">BookStore</span>
  </span>

  <span class="spacer" *ngIf="!showSearch"></span>

  <!-- Desktop Navigation -->
  <ng-container *ngIf="!showSearch" class="hide-on-mobile">
    <button mat-button routerLink="/home">Home</button>
    <button mat-button routerLink="/categories">Product Categories</button>
    <button mat-button routerLink="/bulk-purchase">Bulk Purchase</button>
    <button mat-button routerLink="/about">About Us</button>
    <button mat-button routerLink="/return-replacement">Return & Replacement</button>
    <button mat-button routerLink="/contact-us">Contact Us</button>
    <button mat-button routerLink="/terms">Terms & Conditions</button>
    <button mat-button routerLink="/policy">Privacy Policy</button>
  </ng-container>

  <!-- Search Box -->
  <form *ngIf="showSearch" class="search-box" (ngSubmit)="onSearch()">
    <input type="text" [(ngModel)]="searchQuery" name="q" placeholder="Search" />
    <button type="submit"><mat-icon>search</mat-icon></button>
    <button type="button" (click)="toggleSearch()"><mat-icon>close</mat-icon></button>
  </form>

  <!-- Icons -->
  <ng-container *ngIf="!showSearch">
    <button mat-icon-button (click)="toggleSearch()">
      <mat-icon class="search-icon">search</mat-icon>
    </button>

    <div class="cart-icon">
      <button mat-icon-button routerLink="/cart">
        <mat-icon>shopping_cart</mat-icon>
        <span class="cart-count" *ngIf="cartCount > 0">{{ cartCount }}</span>
      </button>
    </div>

    <!-- Hamburger (mobile only) -->
    <button mat-icon-button class="menu-toggle show-on-mobile" (click)="toggleMenu()">
      <mat-icon>{{ isMenuOpen ? 'close' : 'menu' }}</mat-icon>
    </button>
  </ng-container>
</mat-toolbar>

<!-- Mobile Menu Dropdown -->
<div class="mobile-menu" *ngIf="isMenuOpen">
  <button mat-button routerLink="/home" (click)="closeMenu()">Home</button>
  <button mat-button routerLink="/categories" (click)="closeMenu()">Product Categories</button>
  <button mat-button routerLink="/bulk-purchase" (click)="closeMenu()">Bulk Purchase</button>
  <button mat-button routerLink="/about" (click)="closeMenu()">About Us</button>
  <button mat-button routerLink="/return-replacement" (click)="closeMenu()">Return & Replacement</button>
  <button mat-button routerLink="/contact-us" (click)="closeMenu()">Contact Us</button>
  <button mat-button routerLink="/terms" (click)="closeMenu()">Terms & Conditions</button>
  <button mat-button routerLink="/policy" (click)="closeMenu()">Privacy Policy</button>
</div>
